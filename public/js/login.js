// Generated by CoffeeScript 1.12.7
(function() {
  $(document).on('click', '#submit', function(event) {
    var login, password, remember_me;
    event.preventDefault();
    login = $('#login').val();
    password = $('#password').val();
    remember_me = $('#remember_me').is(':checked');
    return $.ajax({
      type: 'post',
      url: '/login',
      data: {
        login: login,
        password: password,
        remember_me: remember_me
      },
      success: (function(_this) {
        return function() {
          if (window.location.pathname === '/login') {
            return window.location.href = '/';
          } else {
            return window.location.reload();
          }
        };
      })(this),
      error: (function(_this) {
        return function(answer) {
          return alert(answer.message);
        };
      })(this)
    });
  });

}).call(this);
