// Generated by CoffeeScript 1.12.7
(function() {
  $(document).on('click', "#find_products", function() {
    var category, manufacturer, storage;
    manufacturer = $('#manufacturer').val;
    storage = $('#storage').val;
    category = $('#category').val;
    if (manufacturer === '') {
      return alert('Виберіть виробника!');
    }
    if (storage === '') {
      return alert('Виберіть склад!');
    }
    return $.ajax({
      type: 'post',
      url: '/inventory',
      data: {
        action: 'get_products',
        manufacturer: manufacturer,
        storage: storage,
        category: category
      },
      success: answer(function() {
        return $('#place_for_products').html(answer);
      }),
      error: answer(function() {
        return errorHandler(answer);
      })
    });
  });

  $(document).on('submit', '#inventory_create', event(function() {
    var products;
    event.preventDefault;
    products = {};
    $('.amount').each(function() {
      if ($(this).val() !== '') {
        return products[$(this).parents('tr').data('id')] = $(this).val;
      }
    });
    return $.ajax({
      type: 'post',
      url: '/inventory',
      data: {
        action: 'create',
        products: products,
        manufacturer: $('#manufacturer').val,
        storage: $('#storage').val,
        comment: $('#comment').val
      },
      success: answer(function() {
        return successHandler(answer);
      }),
      error: answer(function() {
        return errorHandler(answer);
      })
    });
  }));

}).call(this);
