// Generated by CoffeeScript 1.12.7
(function() {
  var Modal;

  Modal = (function() {
    function Modal(html) {
      $('body').append(html);
      $('.modal').modal();
      this.handlers();
    }

    Modal.prototype.handlers = function() {
      $(document).on('click', '#modal_close', this.myModalClose);
      $(document).on('click', '.poster', this.myModalClose);
      return $(document).on('keydown', function() {
        return function(event) {
          if (event.which === 27) {
            return this.myModalClose();
          }
        };
      });
    };

    Modal.prototype.myModalClose = function() {
      $('.poster').css('z-index', '-1').animate({
        opacity: 0
      }, 400);
      $('#modal').css('z-index', '1').animate({
        opacity: 0
      }, 400);
      $('#content').css('display', 'block');
      $('#left_bar').css('display', 'block');
      return setTimeout(function() {
        return $('#modal').css('display', 'none', 400);
      });
    };

    return Modal;

  })();

}).call(this);
